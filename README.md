# README

# **こみゅにてぃあ**
<img width="600" src="https://user-images.githubusercontent.com/72908323/136355869-25e88e94-21a3-4cd7-84fc-b6fc16c0c45f.png"><br>

# 概要
### 地域活性化のための情報交換サービス
<br>
一定の地域内(市町村程度)で個人・団体・社会福祉法人・学校法人間のボランティア等の情報を結び地域活性につなげるサービス<br>
[こみゅにてぃあ](https://communiteer-app.com/)<br>

## 制作背景
きっかけは友人ずてで誘われたボランティアにあります。<br>
サイトなどで募集されているボランティアではなく、友人ずてで知人の農業を手伝う(台風で落果する前に果実の収穫)ボランティアでした。<br>
その後、実際のボランティアの現状を調べてみたところ個人がボランティア活動を募集する場が少ないことを感じました。<br>
大型ボランティアサイト「activo(アクティボ)」や「Yahoo!ボランティア」などは個人よりも団体・法人の募集が多いように思います。<br>
また、ボランティアに参加しない理由として「経費(交通費など)の負担が大きい」「ボランティアに関する情報が得にくい」「募集している団体に不信感がある」などもありました。<br>
更にボランティア活動の実情を知りたいと思い「地域に特化したボランティアコーディネートをしている知人」に話を伺いました。<br>
その方は「得意ごとを地域で活かしたい人が潜在的にいる(地域の活性化につながる)のにそういう人を見つける手段が少ない」、「地域の市民活動団体(個人運営サロンなど)同士の横のつながりがないためそういった人たちが情報交換ができない」などの点も困っているといってました。<br>
また、私はある地域の福祉法人のHPを見ていて「社会福祉法人の人達が行ったボランティアや行事の活動の様子があまり発信されていない」という疑問もありました。<br>
そこで私は下記が行えるサービスがあればいいのではと考えました。<br>

## 使用技術
### フロントエンド
 - HTML/CSS
 - JavaScript
 - TailwindCSS（UIフレームワーク）
### バックエンド
 - Ruby 3.0.2
 - Ruby on Rails 6.1.4.1
 - MySQL 8.0.25
 - Rubocop（コード解析ツール）
 - RSpec（テスト）
### インフラ
 - AWS(IAM/VPC/EC2/RDS/S3/Route53/ACM/ALB/)
 - Nginx
 - Puma
###　開発環境
 - VSCode
 - Git/GitHub
 - Docker/Docker-compose
 - CircleCI
 - Capistrano



## 機能一覧
**1. ログイン機能**：ユーザーの新規登録・ログイン・ログアウトを行う機能。<br>gem「devise」を使用<br><br>
**2. 画像投稿機能**：画像の投稿を行う機能。<br>画像投稿ページにて「ActiveStorage」を使用して画像を読み込む<br><br>
**3. 画像レビュー機能**：投稿画像の読込後に、画像を縮小サイズで画像投稿ページで表示する機能。<br>javascriptで記述し、動的に処理を行う。<br>画像の再読込や編集の場合などでも先に読込まれた画像を削除してから再表示する<br>**※下記の「デモ動画1」を参照**<br><br>
**4. GPS取得機能**：「jquery.exif.js」ファイルを使用して投稿画像のExif情報を取得する機能。<br>「gps.js」にてExif情報からGPSの情報だけを取得して緯度経度の計算を行い、投稿画像ページで緯度経度を表示する<br>**※下記の「デモ動画1」を参照**<br><br>
**5. 撮影地点表示機能**：画像投稿ページで撮影地点を地図表示する機能<br>地図には「Leaflet」のAPIを使用。<br>「gps.js」に動的に表示する処理を記載しており、GPS情報を所得後に表示される<br>**※下記の「デモ動画1」を参照**<br><br>
**6. ページネーション機能**：Topページの投稿画像一覧を複数ページに分割する機能<br>gem「kaminari」を使用して実装。<br>現在では投稿日の降順で表示されており、最大表示数は「5」。これを超えるとページ数が増加する<br><br>
<img width="600" alt="ページネーション画像" src="https://user-images.githubusercontent.com/72908323/111116701-c110c100-85a9-11eb-98a1-3cad35b2339e.png">

**7. 地図表示機能**：投稿画像の地図を表示する機能<br>「show_map.js」にて動的に表示・非表示するように処理。<br>記載投稿された画像をクリック後、「地図表示」ボタンをクリックすることで表示、左上の「×」で非表示。<br>GPS情報をデータベース上に保存しておき、表示する際に取得および「Leaflet」APIによる地図表示を行っている。<br>地図はモーダルウィンドウとして表示している<br>**※下記の「デモ動画2」を参照**<br><br>


## 今後実装したい機能
1. 個人ページ　：特定のユーザが投稿した画像を一覧で表示できるようにする
2. コメント機能：特定の画像に対してコメントができるようにする
3. 通知機能　　：コメントされたユーザに通知をする
4. タグ機能　　：投稿画像に指定されたタグをつけることができる
5. 検索機能　　：画像のタイトル・タグで検索できるようにする
6. オンオフ機能：ユーザの意思で地図表示の不可を設定できる<br>
<br>


## インフラ構成図
<img width="876" alt="communiteer_インフラ構成図" src="https://user-images.githubusercontent.com/72908323/136638723-8690609c-1d53-45b5-a783-4b3b8f31687e.png">
>

## ER図
<img width="1260" alt="communiteer-ER図" src="https://user-images.githubusercontent.com/72908323/136638684-01f75b01-e780-4c20-af49-402bee1611d7.png"><br>
