<% provide(:title, @volunteer.title) %>
<%= render 'shared/header' %> 
<%= render partial:'shared/second_header', locals:{ title: 'ボランティア募集詳細' } %> 

<div class='sm:h-screen w-full bg-gray-200 font-sans'>
  <div class='grid place-items-center pt-10 pb-5'>
    <div class='w-full sm:w-176 lg:w-240 grid grid-row-3 grid-cols-1 sm:grid-cols-3 bg-white my-5 mx-2 sm:mx-0 rounded-lg shadow-md'>
      <%= link_to(return_volunteer_path, class:'sm:col-span-3 grid justify-items-end place-items-center') do %>
        <%= image_tag 'close_icon.png', class:'h-7 w-7 sm:h-9 sm:w-9 rounded-full hover:bg-gray-200 mt-1 mr-4 sm:mr-3 py-1 px-1 sm:py-2 sm:px-2'%>
      <% end %> 
      <div class='h-20 border-dashed border-b-2 border-gray-300 mx-3 grid place-items-center justify-items-start sm:col-span-3 '>
        <p class='font-mono text-base sm:text-3xl'><%= @volunteer.title %></p>
      </div>
      <div class='sm:h-148 lg:h-160 my-6 px-10 sm:px-3'>
        <div class='h-full grid grid-rows-2 sm:grid-rows-4 grid-cols-1'>
          <%= image_tag @volunteer.image, class:'h-56 sm:h-full w-full my-auto mx-auto row-span-2 rounded-lg'%>
          <div id='another_info_<%= @volunteer.id %>' class='my-3 lg:my-6 mx-2'>
            <%= render partial: 'another_info', locals: { volunteer: @volunteer, cheer_number: @cheer_number } %>
          </div>
          <div id='button_area_<%= @volunteer.id %>' class='my-auto'>
            <%= render partial: 'button_area', locals: { volunteer: @volunteer } %>
          </div>
        </div>
      </div>
      <div class='h-160 sm:h-148 lg:h-160 py-4 sm:py-2 px-6 sm:my-6 lg:px-10 sm:col-span-2'>
        <div class='bg-gray-200 flex items-center justify-between mb-2 sm:mb-5'>
          <p class='font-mono text-2xl lg:text-3xl text-gray-600 '>募集情報</p>
          <% if @account.present? %>
            <div id='edit_area_<%= @volunteer.id %>'>
              <%= render partial: 'edit_area', locals: { volunteer: @volunteer } %>
            </div>
          <% end %>
        </div>
        <div class='h-80 sm:h-72 lg:h-80 border-b divide-y grid grid-rows-3 grid-cols-1'>
          <div class='grid grid-rows-2 grid-cols-4'>
            <span class='item_title_half w-full border-b '>活動日時</span>
            <span class='item_details_half w-full border-b grid'>
              <%= @volunteer.schedule.strftime('%Y年%m月%d日') %> 
              <% if @volunteer.start_time.present? %>
                <span><%= @volunteer.start_time.strftime('%H時%M分') %> 〜
                <% if @volunteer.end_time.present?%>
                  <%= @volunteer.end_time.strftime('%H時%M分') %>
                <% end %>
                </span>
              <% end %>
            </span>
            <span class='item_title_half'>応募人数</span>
            <span class='item_details_half'><%= @volunteer.application_people %>人</span>
          </div>
          
          <div class='grid grid-rows-2 grid-cols-4'>
            <span class='item_title'>活動場所</span>
            <span class='item_details'><%= @volunteer.place %></span>
          </div>
          
          <div class='grid grid-rows-2 grid-cols-4'>
            <span class='item_title'>必要経費</span>
            <span class='item_details'>
             <% if @volunteer.expenses.present? %>
              <%= @volunteer.expenses %>
            <% else %>
              記載なし
            <% end %>
            </span>
          </div>
        </div>
        <div class='h-60 sm:h-48 lg:h-52 border-b divide-y grid grid-rows-4 grid-cols-1'>
          <div class='row-span-3 grid grid-rows-2 grid-cols-4'>
            <span class='item_title'>応募条件</span>
            <span class='item_details'>
            <% if @volunteer.conditions.present? %>
              <%= @volunteer.conditions %>
            <% else %>
              記載なし
            <% end %>
            </span>
          </div>

          <div class='grid grid-rows-2 grid-cols-4'>
            <span class='item_title'>締切日</span>
            <span class='item_details'><%= @volunteer.deadline.strftime('%Y年%m月%d日')%></span>
          </div>
        </div>
      </div>
    </div>
  </div>
  <% if @volunteer.details.present? %>
    <div class='bg-gray-200 grid place-items-center pb-5'>
      <div class='w-full sm:w-176 lg:w-240 bg-white mt-3 sm:mt-0 mb-3 py-4 rounded-lg shadow-md'>
        <p class='font-mono text-2xl lg:text-3xl text-gray-600 bg-gray-200 mx-3'>内容詳細</p>
        <div class='h-40 md:h-36 mt-3 mx-3 overflow-y-auto' >
          <span class='text-lg sm:text-xl break-words overflow-visible'><%= @volunteer.details %></span>
        </div>
      </div>
    </div>
  <%= render 'shared/footer' %>
  <% end %>
</div>
<% if @volunteer.details.blank? %>
  <%= render 'shared/footer' %>
<% end %>
